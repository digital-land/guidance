<!DOCTYPE html>
<html lang="en" class="govuk-template ">
  <head>
    <meta charset="utf-8">
    <title>Pipeline: how we collect and process data | Guidance | Digital Land</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0b0c0c"> 
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
	<link rel="shortcut icon" sizes="48x48" href="/images/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" sizes="32x32" href="/images/favicon-32x32.png" type="image/png">
<link rel="shortcut icon" sizes="16x16" href="/images/favicon-16x16.png" type="image/png">
<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">


    
	<meta name="digital-land:template" content="dlf-base.html">
	
	<link href="https://digital-land.github.io/stylesheets/dl-frontend.css" rel="stylesheet" />
	
    
    
    <meta property="og:image" content="/images/govuk-opengraph-image.png">
  </head>
  <body class="govuk-template__body ">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>
    

    
      <a href="#main-content" class="govuk-skip-link">Skip to main content</a>
    

    
<!-- Cookie banner partial version 1.0.1 -->
<div id="global-cookie-message" class="govuk-clearfix global-cookie-message" data-module="cookie-banner" role="region" aria-label="cookie banner" data-nosnippet="">

  <div id="cookie-banner" class="govuk-width-container">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <div class="cookie-banner__message govuk-!-margin-top-6">
          <h2 class="govuk-heading-m">Tell us whether you accept cookies</h2>
          <p class="govuk-body">We use <a class="govuk-link" href="/cookies">cookies to collect information</a> about how you use the Digital Land website to make the website work as well as possible.</p>
        </div>
        <div class="cooke-banner__buttons govuk-grid-row">
          <div class="govuk-grid-column-one-half">
            <button class="govuk-button" onclick="acceptCookies();showCookieConfirmation();">Accept all cookies</button>
          </div>
          <div class="govuk-grid-column-one-half">
            <a class="govuk-button" href="/cookies">Set cookie preferences</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="cookie-confirmation" class="govuk-width-container govuk-!-padding-top-6" tabindex="-1" style="display: none;">
    <p class="cookie-banner__confirmation-message govuk-body">You’ve accepted all cookies. You can <a class="govuk-link" href="/cookies">change your cookie settings</a> at any time.</p>
    <button class="cookie-banner__hide-button govuk-button govuk-button--secondary" onclick="document.getElementById('cookie-confirmation').style.display='none';">Hide</button>
  </div>

</div>


<header role="banner" id="global-header" class="govuk-header  with-proposition dl-header" data-module="govuk-header">
  <div class="govuk-header__container govuk-width-container">
    <div class="header-proposition">
      <div class="govuk-header__content">
        <a href="https://digital-land.github.io/" class="govuk-header__link govuk-header__link--service-name">
        Digital Land
        </a>
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide Top Level Navigation">Menu</button>
        <nav>
          <ul id="navigation" class="govuk-header__navigation" aria-label="Top Level Navigation">
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/about">Team</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/project/">Projects</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/weeknote/">Weeknotes</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/blog-post/">Blog</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/guidance/">Guidance</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/dataset/">Datasets</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/organisation/">Organisations</a>
            </li>
            
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/map/">Map</a>
            </li>
            
          </ul>
        </nav>
        </div>
    </div>
  </div>
</header>



    
      <div class="govuk-width-container ">
        
  
<div class="govuk-phase-banner">
  <p class="govuk-phase-banner__content"><strong class="govuk-tag govuk-phase-banner__content__tag ">
  prototype
</strong><span class="govuk-phase-banner__text">
      This is a prototype. Please provide feedback to the Digital Land team.
    </span>
  </p>
</div>
  
  <div class="govuk-breadcrumbs ">
  <ol class="govuk-breadcrumbs__list">
  
    
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="https://digital-land.github.io/">Digital Land</a>
    </li>
    
  
    
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/guidance">Guidance</a>
    </li>
    
  
    
    <li class="govuk-breadcrumbs__list-item" aria-current="page">Pipeline: how we collect and process data</li>
    
  
  </ol>
</div>
  

        <main class="govuk-main-wrapper " id="main-content" role="main">
          
<span class="govuk-caption-xl">Guidance</span>
<h1 class="govuk-heading-xl">Pipeline: how we collect and process data</h1>

<div class="govuk-grid-row">

  <div class="govuk-grid-column-one-third contents-section">
<p>Contents</p>
<ul>
<li><a href="#1-collect">1. Collect</a></li>
<li><a href="#2-convert">2. Convert</a></li>
<li><a href="#3-normalise">3. Normalise</a></li>
<li><a href="#4-map-the-headers">4. Map the headers</a></li>
<li><a href="#5-harmonise">5. Harmonise</a></li>
<li><a href="#6-transform">6. Transform</a></li>
</ul>
</div>


  <div class="govuk-grid-column-two-thirds">
    <p class="govuk-body">One of our principles is that data should be maintained as close to the source as possible. This means that we often have to bring together over 350 sources to make 1 national dataset. Our “pipeline” describes the steps we take to collect data from each source and transform them into a national dataset.</p>
<p class="govuk-body">We support publishers of data by providing guidance and tools to help ensure their data meets the data standard. Any changes that we make to the data as it passes through the pipeline, brings a risk that we’ll introduce errors.</p>
<div class="highlight-box--cta">
  <p class="govuk-body">For any resource, you can view its state at each step in the pipeline, allowing you to see what we’ve changed.</p>
</div>

<p class="govuk-body"><a data-flickr-embed="true" href="https://www.flickr.com/photos/mattlucht/49547009136/in/datetaken-public/" title="Pipeline process: collect; convert; normalise; map; harmonise; transform."><img class="dl-image" src="https://live.staticflickr.com/65535/49547009136_f3c86e9e31_b.jpg" alt="Pipeline process: collect; convert; normalise; map; harmonise; transform."></a></p>
<p class="govuk-body">The pipeline follows these steps:</p>
<ol class="govuk-list govuk-list--number">
<li><a href="#1-collect">Collect</a></li>
<li><a href="#2-convert">Convert</a></li>
<li><a href="#3-normalise">Normalise</a></li>
<li><a href="#4-map-the-headers">Map</a></li>
<li><a href="#5-harmonise">Harmonise</a></li>
<li><a href="#6-transform">Transform</a></li>
</ol>
<h2 class="govuk-heading-l"  id="1-collect">1. Collect</h2>
<p class="govuk-body">The collector’s primary purpose is to gather all of the resources that we know about. Each night it visits the URL for each resource to check if it's still valid.</p>
<p class="govuk-body">We produce a <a href="/resource/log/2020-03-09">daily log</a> which records what the collector has found. This includes any links that cannot be accessed and new resources found at a URL.</p>
<p class="govuk-body">If a resource has changed, we add it to our collection. The <a href="https://github.com/digital-land/brownfield-land-collection/blob/master/dataset/brownfield-land.csv">brownfield collection</a> is an example of a data collection.</p>
<h2 class="govuk-heading-l"  id="2-convert">2. Convert</h2>
<p class="govuk-body">If the collected resource is not a <a href="https://www.w3schools.com/charsets/ref_html_utf8.asp">UTF-8 encoded</a> CSV file, we’ll try to convert it into one.</p>
<p class="govuk-body">We can convert certain file types with varying degrees of confidence. For example, a Microsoft Excel file may be easy to convert into a CSV file, whereas we would not be able to convert a PDF or image file.</p>
<h2 class="govuk-heading-l"  id="3-normalise">3. Normalise</h2>
<p class="govuk-body">Once we have a UTF-8 CSV file, we strip out anything that is not recognisable as data. For example if a row has no values, or if there are descriptions above the column headers.</p>
<h2 class="govuk-heading-l"  id="4-map-the-headers">4. Map the headers</h2>
<p class="govuk-body">Next we check (or “map”) the column headers in the resource against those in the data standard.</p>
<p class="govuk-body">If we have made any changes to the data standard over time, the header names in a published resource may not have been updated to meet the new standard.</p>
<p class="govuk-body">We may also be able to identify and correctly map typos. For example, we can confidently map both <code class="dl-code">HazourdousSubstances</code> and <code class="dl-code">HazardousSubtances</code> to the correctly spelled header: <code class="dl-code">HazardousSubstances</code>.</p>
<div class="highlight-box--cta">
<p class="govuk-body">We found ~800 different <a href="https://github.com/digital-land/brownfield-land-collection/blob/master/index/count/column.csv">column headers</a> that were submitted to the brownfield land data collection. We have attempted to map these against 20 headers in the standard.</p>
</div>
<h2 class="govuk-heading-l"  id="5-harmonise">5. Harmonise</h2>
<p class="govuk-body">We then look at the values in the data and check that everything is consistent with the data standard. This step can be the trickiest to do with certainty, because sometimes we have to interpret what the data publisher meant. </p>
<p class="govuk-body">For example, if <code class="dl-code">yes</code> has been entered as <code class="dl-code">Y</code>, we can confidently change this. However, we cannot guess what the data publisher meant by an incorrect date, such as <code class="dl-code">2019-11-31</code>. Since this date does not exist, it would not be safe to assume that the correct value should be <code class="dl-code">2019-11-30</code>.</p>
<div class="highlight-box--cta">
<p class="govuk-body">View the <a href="https://github.com/digital-land/brownfield-land-collection/blob/master/bin/harmonise.py">harmonisation rules that we’ve been able to automate</a> based on what we've learned through the brownfield land project.</p>
</div>
<h2 class="govuk-heading-l"  id="6-transform">6. Transform</h2>
<p class="govuk-body">The final step in our pipeline process takes each harmonised resource and builds a <a href="/dataset/brownfield-land/">national dataset</a>.</p>
  </div>
</div>


        </main>
      </div>
    

    
	
	







<footer class="govuk-footer " role="contentinfo"
        >
  <div class="govuk-width-container ">
    
    <div class="govuk-footer__meta">
      <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">
        
          <h2 class="govuk-visually-hidden">Support links</h2>
              <ul class="govuk-footer__inline-list">
                
                  <li class="govuk-footer__inline-list-item">
                    <a class="govuk-footer__link" href="/cookies">
                      Cookies
                    </a>
                  </li>
                
                  <li class="govuk-footer__inline-list-item">
                    <a class="govuk-footer__link" href="/accessibility-statement">
                      Accessibility statement
                    </a>
                  </li>
                
                  <li class="govuk-footer__inline-list-item">
                    <a class="govuk-footer__link" href="/design-system">
                      Design system
                    </a>
                  </li>
                
              </ul>
            
          
          
            <div class="govuk-footer__meta-custom">
              The <a class="govuk-footer__link" href="https://github.com/digital-land/digital-land/">software</a> and <a class="govuk-footer__link" href="https://github.com/digital-land/digital-land/">data</a> used to build these pages is <a class="govuk-footer__link" href="https://github.com/digital-land/digital-land/blob/master/LICENSE">open source</a>.
            </div>
          
        
        <svg
          role="presentation"
          focusable="false"
          class="govuk-footer__licence-logo"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 483.2 195.7"
          height="17"
          width="41"
        >
          <path
            fill="currentColor"
            d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
          />
        </svg>
        <span class="govuk-footer__licence-description">
          All content is available under the
          <a
            class="govuk-footer__link"
            href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
            rel="license"
          >Open Government Licence v3.0</a>, except where otherwise stated
        </span>
      </div>
      <div class="govuk-footer__meta-item">
        <a
          class="govuk-footer__link govuk-footer__copyright-logo"
          href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
        >© Crown copyright</a>
      </div>
    </div>
  </div>
</footer>


    <script src="https://digital-land.github.io/javascripts/dl-cookies.js"></script>
	<script async src='https://www.google-analytics.com/analytics.js'></script>
	<!-- end google analytics -->
	

	<script src="https://digital-land.github.io/javascripts/govuk/govuk-frontend.min.js"></script>
	<script>
		// initiate all GOVUK components
		window.GOVUKFrontend.initAll();
	</script>

	
	
	<script src="https://digital-land.github.io/javascripts/dl-frontend.js"></script>
	<script>
		// adds any necessary polyfills
		window.DLFrontend.polyfill();
	</script>
	


  </body>
</html>